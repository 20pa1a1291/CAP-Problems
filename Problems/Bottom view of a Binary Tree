

//User function Template for Java

class Pair {
    int lvl;
    int data;
    Pair(int lvl, int data) {
        this.lvl = lvl;
        this.data = data;
    }
}

class Solution
{
    void func(Node root, int hd, int lvl, Map<Integer,Pair> map) {
        if(root == null) {
            return;
        }
        if(!map.containsKey(hd)) {
            map.put(hd, new Pair(lvl, root.data));
        }
        else if(map.get(hd).lvl <= lvl) {
            map.put(hd, new Pair(lvl, root.data));
        }
        func(root.left, hd-1, lvl+1, map);
        func(root.right, hd+1, lvl+1, map);
    }
    public ArrayList <Integer> bottomView(Node root)
    {
        ArrayList<Integer> res = new ArrayList<>();
           if(root == null) {
               return res;
           }
           Map<Integer,Pair> map = new TreeMap<>();
           func(root, 0, 1, map);
           
           for(Map.Entry<Integer,Pair> entry : map.entrySet()) {
               res.add(entry.getValue().data);
           }
           return res;
    }
}
